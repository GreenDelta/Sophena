<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Sophena Weather Stations</title>
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.css" />
    <style media="screen">
        html {
            height: 100%;
        }
        
        body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
        
        #map {
            width: 100%;
            height: 100%;
        }
    </style>
</head>

<body>
    <div id="map"></div>

    <script src="http://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.js"></script>
    <script type="text/javascript">
       
            function setData(list) {
                if (!list) {
                    return
                }

                // initialize the map; see http://leafletjs.com/reference.html#map-usage
                var map = L.map('map', {
                    center: {lat: 51.28, lng: 9.47},
                    zoom: 7
                })

                // add the tile layer, http://leafletjs.com/reference.html#tilelayer
                // see also http://wiki.openstreetmap.org/wiki/Tile_servers
                var tileUrl = 'http://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png'
                L.tileLayer(tileUrl, {
                    subdomains: ['a', 'b'], // value for s
                    attribution: '<a href="http://www.openstreetmap.org">OpenStreetMap</a>'
                }).addTo(map)

                for (var i = 0; i < list.length; i++) {
                    var elem = list[i];
                    L.marker({
                        lat: elem.latitude, 
                        lng: elem.longitude
                    }, {
                        title: elem.name, 
                        riseOnHover: true
                    }).addTo(map);  
                }
            }
            
    </script>
</body>

</html>